<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="想法 玩物 创意">
<meta property="og:type" content="website">
<meta property="og:title" content="# Coding - 午夜场">
<meta property="og:url" content="http://www.sujing.info/page/2/index.html">
<meta property="og:site_name" content="# Coding - 午夜场">
<meta property="og:description" content="想法 玩物 创意">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="# Coding - 午夜场">
<meta name="twitter:description" content="想法 玩物 创意">





  
  
  <link rel="canonical" href="http://www.sujing.info/page/2/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title># Coding - 午夜场</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title"># Coding - 午夜场</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">想法 玩物 创意</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.sujing.info/2015/03/01/手机定位原理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Justin Su">
      <meta itemprop="description" content="想法 玩物 创意">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="# Coding - 午夜场">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2015/03/01/手机定位原理/" class="post-title-link" itemprop="url">手机定位原理 - GPS/GLONASS/北斗 + WIFI + 基站</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2015-03-01 19:11:37" itemprop="dateCreated datePublished" datetime="2015-03-01T19:11:37+08:00">2015-03-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-14 16:46:09" itemprop="dateModified" datetime="2019-04-14T16:46:09+08:00">2019-04-14</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="卫星定位系统-GPS-GLONASS-北斗："><a href="#卫星定位系统-GPS-GLONASS-北斗：" class="headerlink" title="卫星定位系统 - GPS/GLONASS/北斗："></a>卫星定位系统 - GPS/GLONASS/北斗：</h3><p>关于GPS、GLONASS、北斗、伽利略系统的科普请自行谷歌。</p>
<p>GPS是使用最广泛的全球定位网络，几乎是所有智能手机的标配。进几年，俄罗斯的GLONASS定位功能也逐步加入智能手机芯片，与GPS组成双定位系统，定位速度大幅提升。中国自主研发的北斗导航系统，也开始出现在部分高端机型。至于欧洲的伽利略系统，目前还没有见到有哪部手机支持。</p>
<p>卫星定位系统的优点在于精度高，误差一般在15米以内。GPS芯片会接收天空中多颗卫星的同步信号，然后根据信号的相位差，计算出具体的经纬度。保持多颗卫星信号同步，将误差控制在纳秒级以下，是GPS核心技术之一。</p>
<p>下图是Android平台的著名GPS应用GPSTestPlus截图，可以看到本机支持GPS和GLONASS双定位系统（圆点为GPS卫星，三角形为GLONASS卫星），以及定位卫星在天球上的投影。</p>
<img src="/assets/img/gps01.png">
<h3 id="WIFI定位："><a href="#WIFI定位：" class="headerlink" title="WIFI定位："></a>WIFI定位：</h3><p>路由器默认都会进行SSID广播（除非用户手动配置关闭该功能），在广播帧包含了该路由器的MAC地址。此时需要采集装置进行MAC信息采集和信号强度信息采集，并上传到服务器，经过服务器的计算，保存为“MAC-经纬度”的映射。例如谷歌的街景采集车，曾经因隐私问题在德国被定性为非法。在国内，通过用户智能手机应用的后门功能采集，则是数据公司获取“MAC-经纬度”映射信息的主要途径。一般情况下，用户周边会有多个WIFI信号源，此时手机会默默地解析出所有WIFI的MAC地址，如果某些WIFI的信息在数据库中已经存在，则可以根据信号强度，推导出未知WIFI的经纬度。如果没有已知WIFI，而手机碰巧开着GPS，则也能完成数据采集。用户在不知情的情况下为地图公司搜集了所有的数据。可以想象，这样的数据量是非常庞大的。</p>
<h3 id="基站定位："><a href="#基站定位：" class="headerlink" title="基站定位："></a>基站定位：</h3><p>基站数量远少于WIFI，且基站都有公开的位置数据，因此采集工作相对简单。</p>
<h3 id="多种定位途径的精确度："><a href="#多种定位途径的精确度：" class="headerlink" title="多种定位途径的精确度："></a>多种定位途径的精确度：</h3><p>卫星定位系统  &gt; WIFI  &gt; 基站（蜂窝网络）。因此优先级也是卫星定位系统最高。</p>
<p>以Android设备为例，如果用户未关闭GPS功能，则优先使用GPS，从GPS模块读取时钟校准、经纬度等数据。如果同时还开着WIFI和基站，则会同时采用WIFI和基站辅助定位，减少GPS芯片的计算步骤，提高定位速度，这就是A-GPS。</p>
<p>如果关闭GPS，而WIFI模块保持开启，手机会读取周边所有WIFI信号的MAC地址和信号强度，并上传至某公司（通常是地图供应商）的服务器，服务器查询并计算后会返回经纬度。WIFI的覆盖范围一般只在50米内，因此定位精度非常接近卫星定位系统。</p>
<p>如果WIFI模块也关闭了，那么只有通过基站（蜂窝网络）了。此时手机会接收到基站的小区ID，上传至服务器查询，服务器同样返回经纬度。但此时精度较差，误差一般在100以上，毕竟基站的覆盖范围也是很大的，仅凭信号强度是难以计算出精确位置的。</p>
<p>需要注意的是，WIFI方式和基站方式，都需要联网，要不你怎么和服务器联系？但是WIFI模块打开后，即可进行WIFI扫描和信息采集，不必连接到某一AP上，基站也是一样，不必打开蜂窝网络。因为向服务器发起查询请求，既可走蜂窝数据流量，也可走WIFI流量。<br><img src="/assets/img/gps02.png"><br><img src="/assets/img/gps03.png"><br><img src="/assets/img/gps04.png"></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.sujing.info/2014/10/22/架构设计中常见的语义耦合类型的总结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Justin Su">
      <meta itemprop="description" content="想法 玩物 创意">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="# Coding - 午夜场">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2014/10/22/架构设计中常见的语义耦合类型的总结/" class="post-title-link" itemprop="url">架构设计中常见的语义耦合类型的总结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2014-10-22 19:42:37" itemprop="dateCreated datePublished" datetime="2014-10-22T19:42:37+08:00">2014-10-22</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-14 16:50:22" itemprop="dateModified" datetime="2019-04-14T16:50:22+08:00">2019-04-14</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>语义耦合是隐性的，不易察觉的耦合类型 ，是导致代码重构、调试、修改复杂度急剧增加的主要原因。</p>
<p>1，操作顺序耦合</p>
<p>使用一个对象，需要先调用Init()，之后才能调用DoAnything()。这种顺序耦合，即使在文档中remark也是极为不优雅的做法。</p>
<p>2，全局参数传递</p>
<p>模块A修改了某个全局参数g_val，模块B读取该值。模块B必须知道模块A已经对该参数赋值。</p>
<p>3，业务封装不够紧密</p>
<p>模块A向模块B传一个参数，模块B根据该参数选择对应的操作。模块A必须知道与业务相关的所有的操作类型。对于模块A，仅传递模块A自身可以理解的语义，或者通俗的概念作为参数，而不是被封装的业务相关的参数。</p>
<p>4，超越接口的数据类型约定</p>
<p>模块A向模块B传递一个接口的指针，模块B将其强制转换为派生类的指针。当模块B知道该接口的实际类型时，封装已经被破坏了。非相关模块只能对接口操作，而不应对接口之外的职责进行约定。</p>
<p>先写这么多，欢迎补充。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.sujing.info/2014/09/07/C-语言体系设计哲学的一些随想-未完待续/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Justin Su">
      <meta itemprop="description" content="想法 玩物 创意">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="# Coding - 午夜场">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2014/09/07/C-语言体系设计哲学的一些随想-未完待续/" class="post-title-link" itemprop="url">C++语言体系设计哲学的一些随想(未完待续)</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2014-09-07 11:50:30" itemprop="dateCreated datePublished" datetime="2014-09-07T11:50:30+08:00">2014-09-07</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-14 16:50:44" itemprop="dateModified" datetime="2019-04-14T16:50:44+08:00">2019-04-14</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><br></p>
<p>对于静态类型语言，其本质目标在于恰当地操作数据，得到期望的值。具体而言，需要：</p>
<p>(1) 定义数据类型</p>
<p>你定义的数据是什么，是整形还是浮点还是字符。该类型的数据可以包含的值的范围是什么。</p>
<p>(2) 定义操作的含义</p>
<p>操作是严格数据类型相关的。操作表明了对了一个具有特定类型的数据，执行操作后产生什么样结果。 </p>
<hr>
<p>C++就是一个典型的静态类型语言。在C++中，无论是”数据类型”还是”操作”，都分为内置的和自定义的。</p>
<p>C++的内置数据类型包括：</p>
<p>（1）基本内置类型</p>
<p>整形、浮点、布尔、字符….</p>
<p>（2）STL库定义的类型</p>
<p>例如常用的iostream、string、迭代器……</p>
<p>此外C++和定义了复合类型机制，包括所有类型的引用、指针、数组，他们可以作为一个完整数据类型的一部分。</p>
<p>顺便提一下，顶层/底层const、static、volatile…等修饰符，定义了数据的其他属性，这些属性也可以是一个完整数据类型的组成部分。</p>
<p>而自定义类型，最常用的就是class、struct、union定义，还有函数签名，当然也可以使用复合类型机制定义自己类的引用、指针、数组等。</p>
<hr>
<p> 重点在于，无论是变量还是常量，必须属于某一特定的数据类型。因为操作只有基于精确的数据类型，其定义才有了确定的含义（在编译原理中叫做“语义”）。也就是说，在一个确定的操作集合中(例如C++语言内置的所有操作)，只要给一个变量赋于了数据类型，这个变量可以执行的操作也就确定了。定义变量nVal为int类型，那么nVal就可以参与加减乘除、关系运算、拷贝、转换为double、传递给函数形参、作为数组的下标………</p>
<p>C++的“操作”，其含义非常广泛。其实C++语言已经通过成员函数、操作符重载、函数重载、构造函数定义的隐式类型转换…等机制，表明了 C++作为一个静态类型语言的本质：属于特定类型的数据，加上其上的操作。可以这样理解，任何一个操作，本质就是函数，操作符在C++语言内部也是被当作函数来看待的（这也能解释C++提供operator操作符重载机制的动机）；类的成员函数、友元函数，也是对类本身这个“数据类型”的操作。</p>
<p>更进一步，操作本身也是一种特殊的数据类型。可以定义函数的指针、函数的数组，成员访问（-&gt;<em>,.</em>），只是可以被当作数据类型来使用的机会不多，也被语言本身限制了。</p>
<p>C++的内置操作不太好理解，实际上我们常用的语言机制都是“操作”，具体包含了：</p>
<p>（1）各种各样的操作符</p>
<p>算术操作符、关系操作符、位运算、取地址、单目运算、解引用、数组元素访问….. </p>
<p>（2）拷贝操作</p>
<p>拷贝初始化、列表初始化（C++ 11）、赋值运算、函数传参、函数返回值、类型转换执行的临时变量拷贝……等其他非引用场景</p>
<p>（3）数据类型转换</p>
<p>类型转换也是一种操作。对于普通的操作，执行前需先匹配要操作的数据的类型。现实中，不可能总能保证在代码里提供类型严格匹配的数据，因此类型转换也是C++语言非常普遍的操作。</p>
<p>该如何理解这样的操作呢？举个例子，例如： </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> nVal = <span class="number">42</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">double</span> fVal = <span class="number">3.14</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">double</span> fValTwo;</span><br><span class="line"> </span><br><span class="line">fValTwo = fVal + nVal ; <span class="comment">// nVal类型提升为double</span></span><br></pre></td></tr></table></figure>
<p> 上述代码最后一行的相加操作将执行类型提升。从编译器的角度看，此时将生成一个匿名的变量，变量的类新和需要匹配的类型(double)相同，之后执行int至double的类型转换操作，操作结果保存在这个匿名变量中。之后才会执行“+”操作。也就是说，如果选定了操作，那么就会期待若干数据类型完全匹配的操作数，为了满足这个条件，系统会执行类型转换。</p>
<p>对于赋值操作，该操作会期待=右边操作数的数据类型和左边完全匹配，此时也会和上述相同，生成匿名变量，执行类型转换。准备工作完成后，再执行”=”操作。</p>
<p>函数的调用也是基于相同的原理，即实参类型和形参类型的匹配。</p>
<hr>
<p>C++语言内部定义了异常复杂的类型转换规则（操作），只不过大多数对使用者是透明的。例如：</p>
<p>整形提升 - char、short、bool会先转换为int；</p>
<p>类型提升 - 防止精度损失；</p>
<p>类型降低 -有精度损失，常见于拷贝操作。拷贝操作是将源对象严格匹配目标对象，因此不会有算术操作里的“整形提升”。拷贝包括了拷贝初始化、赋值运算、函数调用实参赋给形参</p>
<p>非bool值都可以转换为bool，相反则转换为0/1；</p>
<p>任意类新指针都可转换为void*；</p>
<p>数组在不用于decltype、sizeof、typeid、取地址&amp;的情况下，会自动转换为指向第一个元素的指针。</p>
<p>非底层const向底层const的转换 - 指向常量的引用和指针可以绑定到非常量上，和内置类型的提升与降低不同，底层const向非底层const的转换是非法的；</p>
<p>子类向基类的转换 - 基类指针/引用可以指向子类，这是多态的基础。和底层const一样，相反的转换是非法的。</p>
<hr>
<p>-</p>
<p>PS:关于底层const和继承体系类型转换的单向性：</p>
<p>本质而言，一个数据的数据类型，可以执行的操作的集合越小，该数据可以引用/绑定的对象类型越广。例如：</p>
<p>数据类型A，可以执行operA - operZ 共26个操作。数据类新B，可以执行的操作是A的子集，比如operH-operN。那么，B的引用/指针可以绑定到A（B的引用/指针可以接受A/A的指针赋值），相反则是非法的。</p>
<p>const int <em>不能修改指向的int，而int </em>可以，也就是说，数据类型const int <em>的操作范围比int </em>要小，所以const int <em>可以绑定到int</em>指向的对象（本质上是指const int <em>可以接受int</em>赋值）。<br>在继承体系中，基类的操作范围肯定是小于子类的，所以 基类指针指向/基类引用 子类的合法的。</p>
<p>造成这一切的原因就在于，对静态类型语言，编译器始终“固执”地、“自以为是”地按照其静态声明类型，来决定一个操作是否合法，而不去管这个对象实际指向的类型。可以想象，编译器“自以为是”地认为通过int <em>可以改变这个int，而不管这个int</em>实际指向的是const int，如果允许底层const向非底层const转换，就会带来冲突。</p>
<p>-</p>
<p>PS:基于该观点理解重载</p>
<p>函数重载、操作符重载的本质，是用同一个名字定义了多个操作。结果是在编译阶段引入了一个确定具体操作的过程 - 从候选操作中选出最匹配的操作。而上述“类型转换”操作则是在运行阶段进行的。</p>
<p>自定义操作，包括我们定义的普通函数、成员函数、重载的操作符、构造函数定义的隐式类型转换、拷贝构造函数定义的拷贝操作…</p>
<p>未完待续</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.sujing.info/2014/07/23/将P2P虚拟货币的算力用于公共的分布式计算的猜想/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Justin Su">
      <meta itemprop="description" content="想法 玩物 创意">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="# Coding - 午夜场">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2014/07/23/将P2P虚拟货币的算力用于公共的分布式计算的猜想/" class="post-title-link" itemprop="url">将P2P虚拟货币（比特币、莱特币....）的算力用于公共的分布式计算的猜想</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2014-07-23 10:52:37" itemprop="dateCreated datePublished" datetime="2014-07-23T10:52:37+08:00">2014-07-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-14 16:51:05" itemprop="dateModified" datetime="2019-04-14T16:51:05+08:00">2019-04-14</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>比特币最近几年非常火爆。发明者中本聪设计了一个特定的算法用于生成（发行）比特币，让各位玩家（矿工）用自己的CPU、显卡，或者更加专业的矿机，通过无聊的并行计算算出比特币的特定密码（挖矿）。为了保证全网比特币按照特定的发行速度递增，并最终无限趋近于上限2100万枚，挖矿难度会根据全网算力进行动态调整。由于进场人数急剧增加，谁的算力大，谁挖到比特币的几率就高，因此这是一个类似于“军备竞赛”的过程。前期硬件投入，加上巨大的电力消耗，回本机会往往非常渺茫，更重要的是，全网如此巨大的计算力白白地消耗在毫无意义的运算中。从比特币衍生出的各类山寨币，其运作机制完全相同，同样在无畏地消耗着大量算力。</p>
<p>其中一个方案在最底层实现。由于各个矿机的平台不尽相同，使用者将自己要提交的代码，分解优化为一系列可重入的代码块（可以是函数），这些代码块之间除了数据传递，逻辑上是相互独立的，并且是有严格的先后线性顺序的，可并行安排。将这些代码按照某一平台进行编译，添加平台标记、顺序号，生成一系列代码段，并将这些binary提交到整个计算网络。相同平台的矿机(X86,ARM,SPARC,MOTO….)自动加载计算并返回结果给代码提交者。</p>
<p>显然，并行的计算，且每一个并行分支含有极高次迭代的循环结构，利用率是最好的。因此使用者设计代码时要尽量符合这样的标准。</p>
<p>从更高层次考虑，结构化程序理论表明，任何过程式语言都可以通过顺序、分支、循环三种基本结构进行组合。考虑将编程的基本单位，从语句提升为“算元”。经过精心挑选的基本算元（甚至可以是更高层的算法库）已安装在矿机中，使用者只需将运算过程（重复率很高的）按照一定的格式提交到全网，由网络自动分配算力，即可实现高效的利用。当然，这需要开发一种新的脚本语言。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.sujing.info/2014/02/17/Linux-Bash环境下特殊符号转义的小结/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Justin Su">
      <meta itemprop="description" content="想法 玩物 创意">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="# Coding - 午夜场">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2014/02/17/Linux-Bash环境下特殊符号转义的小结/" class="post-title-link" itemprop="url">Linux Bash环境下特殊符号转义的小结</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2014-02-17 18:42:12" itemprop="dateCreated datePublished" datetime="2014-02-17T18:42:12+08:00">2014-02-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-14 16:51:29" itemprop="dateModified" datetime="2019-04-14T16:51:29+08:00">2019-04-14</time>
              
            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在lang:bash中，$、*、?、[、]、’、”、`、\、有特殊的含义。类似于编译器的预编译过程，lang:bash在扫描命令行的过程中，会在文本层次上，优先解释所有的特殊字符，之后对转换完成的新命令行，进行内核的系统调用。</p>
<p>其中，反引号类似于函数调用，而不仅仅是简单的文本替换及匹配。</p>
<p>命令行中，被单引号引用的部分，其中所有的特殊字符按照普通字符解释；</p>
<p>双引号引用的部分，仅解释$（美元符号）、\（\n \t除外）、`（反引号），解释后的文本仅按照普通文字处理（同单引号）。</p>
<p>反引号相当于命令替换，引用的部分优先执行，将运行结果替换到外层的命令行文本中；反引号可以嵌套，但是嵌套时内部的反引号必须用\转义</p>
<p>反斜杠用于命令换行，以及echo -e解释。</p>
<p>网上各种文章常见的例子，其中第二行重点介绍一下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># x=*                     </span><br><span class="line"># echo $x　　　　　　此行执行了两次替换，将$x替换为*，之后将*替换为当前目录下所有文件列表的文本，</span><br><span class="line"></span><br><span class="line">　　　　　　　　　　该文本作为参数赋给echo（lang:bash会自动按照优先级，进行多层次替换 ）</span><br><span class="line">hello.sh menus.sh misc.sh phonebook tshift.sh</span><br><span class="line"># echo &apos;$x&apos;               $x不进行任何解释，直接将文本‘$x’作为参数赋给echo</span><br><span class="line">$x</span><br><span class="line"># echo &quot;$x&quot;              $x替换为*，但是由于在双引号内，*不做替换，因此文本“*”将作为参数赋给echo</span><br></pre></td></tr></table></figure></p>
<p>Tips:</p>
<p>大多数Linux Distribution的默认shell为lang:bash，查询当前主机所有shell可执行如下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cat  /etc/shell</span><br></pre></td></tr></table></figure></p>
<p>lang:bash内部集成了40多条命令，通用格式为：</p>
<p>$ 命令 [-选项] [参数]</p>
<p>其中，”-“后为单字符选项，”–”后为完整的单词选项。一般来说，命令的某项功能(feature)，会同时支持单字符选项及对应的多字符选项。</p>
<p>在lang:bash中，<em>、?、[、]有特殊的含义，用于字符匹配。</em>代表0到多个字符，？代表单个字符。[]用于匹配单个字符，内部用短横线按照ASCII码顺序标明匹配的字符范围，或者枚举所有要匹配的字符。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Justin Su</p>
              <div class="site-description motion-element" itemprop="description">想法 玩物 创意</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Justin Su</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>



  

  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  



  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
